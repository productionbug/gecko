---
title: RHFTextarea
description: Multi-line text input component integrated with React Hook Form
---

import { RHFTextarea } from '@hexpacket/ui';
import {
  BasicRHFTextareaExample,
  WithValidationExample,
  AutoResizeExample,
  WithRowConstraintsExample,
  DisabledExample,
  CompleteFormExample
} from '@/components/examples/rhf-textarea-examples';

# RHFTextarea

A multi-line textarea component integrated with React Hook Form that automatically displays error states with a red border when validation fails. Supports auto-resizing functionality.

## Installation

```tsx
import { RHFTextarea } from '@hexpacket/ui';
```

## Basic Usage

<Preview>
  <BasicRHFTextareaExample />
</Preview>

```tsx
import { useForm, FormProvider } from 'react-hook-form';
import { RHFTextarea } from '@hexpacket/ui';

function Example() {
  const methods = useForm({
    defaultValues: {
      description: ''
    }
  });

  return (
    <FormProvider {...methods}>
      <RHFTextarea name="description" placeholder="Enter description" />
    </FormProvider>
  );
}
```

## Props API

Extends all props from [Textarea](/docs/textarea) component plus:

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `name` | `string` | - | Field name (required) |
| `control` | `Control` | Auto-injected | Optional: Pass explicitly for nested forms or custom form context |
| `autoResize` | `boolean` | `false` | Enable automatic height adjustment |
| `rows` | `number` | `2` | Minimum number of rows |
| `maxRows` | `number` | - | Maximum number of rows (only with `autoResize`) |
| `onChange` | `(value: string) => void` | - | Change callback (receives value, not event) |
| `onBlur` | `(value: string) => void` | - | Blur callback |
| ...rest | `TextareaProps` | - | All Textarea component props |

## Examples

### With Validation (Zod)

<Preview>
  <WithValidationExample />
</Preview>

```tsx
import { useForm, FormProvider } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';
import { RHFTextarea, RHFInputGroup } from '@hexpacket/ui';

const schema = z.object({
  bio: z.string().min(10, 'Bio must be at least 10 characters').max(500, 'Bio must not exceed 500 characters')
});

function Example() {
  const methods = useForm({
    resolver: zodResolver(schema),
    mode: 'onBlur',
    defaultValues: { bio: '' }
  });

  return (
    <FormProvider {...methods}>
      <RHFInputGroup label="Bio" required>
        <RHFTextarea name="bio" placeholder="Tell us about yourself (min 10 chars)" />
      </RHFInputGroup>
    </FormProvider>
  );
}
```

### Auto-Resizing Textarea

<Preview>
  <AutoResizeExample />
</Preview>

```tsx
<RHFTextarea
  name="comments"
  autoResize
  rows={3}
  maxRows={10}
  placeholder="This textarea grows as you type (max 10 rows)"
/>
```

### With Row Constraints

<Preview>
  <WithRowConstraintsExample />
</Preview>

```tsx
<RHFTextarea
  name="notes"
  rows={5}
  placeholder="Fixed at 5 rows"
/>
```

### Disabled State

<Preview>
  <DisabledExample />
</Preview>

```tsx
<RHFTextarea name="readonly" disabled />
```

### Complete Form Example

<Preview>
  <CompleteFormExample />
</Preview>

```tsx
import { useForm, FormProvider } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';
import { RHFTextarea, RHFInputGroup, Button } from '@hexpacket/ui';

const schema = z.object({
  title: z.string().min(1, 'Title is required'),
  description: z.string().min(20, 'Description must be at least 20 characters'),
  notes: z.string().optional()
});

function FormExample() {
  const methods = useForm({
    resolver: zodResolver(schema),
    mode: 'onBlur',
    defaultValues: {
      title: '',
      description: '',
      notes: ''
    }
  });

  return (
    <FormProvider {...methods}>
      <form onSubmit={methods.handleSubmit(console.log)}>
        <RHFInputGroup label="Title" required>
          <RHFTextarea name="title" rows={1} placeholder="Enter title" />
        </RHFInputGroup>

        <RHFInputGroup label="Description" required>
          <RHFTextarea
            name="description"
            autoResize
            rows={3}
            maxRows={8}
            placeholder="Enter description (min 20 chars)"
          />
        </RHFInputGroup>

        <RHFInputGroup label="Additional Notes">
          <RHFTextarea name="notes" rows={2} placeholder="Optional notes" />
        </RHFInputGroup>

        <Button type="submit">Submit</Button>
      </form>
    </FormProvider>
  );
}
```

## Error States

RHFTextarea automatically displays error states with:
- Red border via `HPuiRHFTextarea--error` CSS class when `fieldState.error` exists

Use [RHFInputGroup](/docs/rhf-input-group) component for label + textarea + error layout:

```tsx
<RHFInputGroup label="Description" required>
  <RHFTextarea name="description" />
</RHFInputGroup>
```

Or combine with [RHFError](/docs/rhf-error) component manually:

```tsx
<RHFTextarea name="description" />
<RHFError name="description" />
```

**Tip**: Use `mode: 'onBlur'` in useForm to validate on blur for better UX:

```tsx
const methods = useForm({
  resolver: zodResolver(schema),
  mode: 'onBlur'
});
```

## Auto-Resize Behavior

When `autoResize` is enabled:
- Textarea grows automatically as content increases
- Minimum height is determined by the `rows` prop
- Maximum height is determined by the `maxRows` prop
- Shrinks back down when content is removed

When `autoResize` is disabled:
- Textarea has a fixed height based on `rows`
- Users can resize manually (if CSS allows)
- The `maxRows` prop is ignored

## Accessibility

- Inherits all accessibility features from [Textarea](/docs/textarea) component
- Proper ARIA attributes for error states
- Keyboard navigable
- Screen reader compatible

## Related Components

- [Textarea](/docs/textarea) - Base textarea component
- [RHFInput](/docs/rhf-input) - Single-line text input
- [RHFError](/docs/rhf-error) - Error message display
