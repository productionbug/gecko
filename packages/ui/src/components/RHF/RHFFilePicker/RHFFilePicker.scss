@import "../../../mixins.scss";

.GeckoUIRHFFilePicker {
  @apply flex w-full flex-col gap-3;

  &--dragging &__upload-area {
    @apply border-primary-400 bg-surface-hover-strong;
  }

  &--error &__upload-area {
    @apply border-red-500;
  }

  &--loading {
    @apply cursor-wait;
  }

  &__upload-area {
    @apply relative flex min-h-[160px] flex-col items-center justify-center gap-3 rounded-lg border-2 border-dashed border-border-secondary bg-surface-secondary p-6 transition-colors duration-200;
  }

  &__upload-icon {
    @apply h-10 w-10 text-text-muted;
  }

  &__upload-text {
    @apply text-center text-sm text-text-muted;
  }

  &__upload-buttons {
    @apply flex flex-wrap items-center justify-center gap-2;
  }

  &__browse-button {
    @include button-reset;

    @apply rounded-md border border-border-secondary bg-surface-primary px-4 py-2 text-sm font-medium text-text-primary shadow-sm transition-colors duration-200;

    &:hover {
      @apply bg-surface-tertiary;
    }

    &:focus-visible {
      @apply outline-none ring-2 ring-primary-400 ring-offset-2;
    }
  }

  &__file-list {
    @apply flex max-h-[200px] flex-col overflow-y-auto rounded-lg border border-border-secondary;
  }

  &__file-row {
    @apply flex items-center gap-3 border-b border-border-secondary px-4 py-3 last:border-b-0;

    &:hover {
      @apply bg-surface-secondary;
    }
  }

  &__file-name {
    @apply flex-1 truncate text-sm text-text-primary;
  }

  &__file-size {
    @apply shrink-0 text-xs text-text-muted;
  }

  &__file-remove {
    @include button-reset;

    @apply shrink-0 rounded p-1 text-text-muted transition-colors duration-200;

    &:hover {
      @apply bg-red-100 text-red-600;
    }

    &:focus-visible {
      @apply outline-none ring-2 ring-red-400;
    }
  }

  &__file-remove-icon {
    @apply h-4 w-4;
  }

  &__loading-overlay {
    @apply pointer-events-none absolute inset-0 flex items-center justify-center rounded-lg bg-surface-primary bg-opacity-50;
  }
}
